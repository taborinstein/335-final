@objects dircheck build/lib_a.o src/lib_a.c build/lib_b.o src/lib_b.c build/obj_a.o src/obj_a.c build/main.o src/main.c build/obj_b.o src/obj_b.c main_nolib
@for dircheck
    mkdir -p build
@for build/lib_a.o < src/lib_a.c
    cc -c -o build/lib_a.o src/lib_a.c
@for build/lib_b.o < src/lib_b.c
    cc -c -o build/lib_b.o src/lib_b.c
@for build/obj_a.o < src/obj_a.c
    cc -c -o build/obj_a.o src/obj_a.c
@for build/main.o < src/main.c
    cc -c -o build/main.o src/main.c
@for build/obj_b.o < src/obj_b.c
    cc -c -o build/obj_b.o src/obj_b.c
@for main_nolib < build/lib_a.o build/lib_b.o build/main.o build/obj_a.o build/obj_b.o
    cc -o main_nolib build/lib_a.o build/lib_b.o build/main.o build/obj_a.o build/obj_b.o